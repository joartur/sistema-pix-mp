<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerar Pagamento PIX • Sistema Oficial</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --success: #059669;
            --success-dark: #047857;
        }
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            min-height: 100vh;
        }
        
        .card-shadow {
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08), 0 8px 25px rgba(0, 0, 0, 0.04);
        }
        
        .gradient-primary {
            background: linear-gradient(135deg, var(--primary) 0%, #1d4ed8 100%);
        }
        
        .gradient-success {
            background: linear-gradient(135deg, var(--success) 0%, var(--success-dark) 100%);
        }
        
        .pulse-success {
            animation: pulseSuccess 2s infinite;
        }
        
        @keyframes pulseSuccess {
            0% { box-shadow: 0 0 0 0 rgba(5, 150, 105, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(5, 150, 105, 0); }
            100% { box-shadow: 0 0 0 0 rgba(5, 150, 105, 0); }
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .btn-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .btn-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .amount-option {
            border: 2px solid #e5e7eb;
            transition: all 0.3s ease;
        }
        
        .amount-option:hover {
            border-color: var(--primary);
            transform: translateY(-3px);
        }
        
        .amount-option.selected {
            border-color: var(--primary);
            background-color: rgba(37, 99, 235, 0.05);
        }
        
        input:focus {
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
    </style>
</head>
<body class="flex items-center justify-center p-4">
    <div class="container max-w-4xl mx-auto">
        <!-- Header Oficial -->
        <header class="text-center mb-12 fade-in">
            <div class="flex flex-col items-center mb-6">
                <div class="w-16 h-16 gradient-primary rounded-2xl flex items-center justify-center mb-4 shadow-lg">
                    <i class="fas fa-brazilian-real-sign text-white text-2xl"></i>
                </div>
                <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-2">Sistema PIX Oficial</h1>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center text-success">
                        <div class="w-2 h-2 bg-success rounded-full mr-2 pulse-success"></div>
                        <span class="font-semibold">Sistema Online</span>
                    </div>
                    <div class="text-gray-500">•</div>
                    <div class="flex items-center text-gray-600">
                        <i class="fas fa-bolt mr-2 text-yellow-500"></i>
                        <span class="font-medium">Transferências Instantâneas</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Card -->
        <div class="bg-white rounded-3xl card-shadow overflow-hidden fade-in" style="animation-delay: 0.1s">
            <!-- Card Header -->
            <div class="gradient-primary px-8 py-6">
                <div class="flex flex-col md:flex-row md:items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold text-white mb-2">Gerar Cobrança PIX</h2>
                        <p class="text-blue-100 opacity-90">Sistema homologado pelo Banco Central</p>
                    </div>
                    <div class="mt-4 md:mt-0 flex items-center space-x-3">
                        <div class="bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full">
                            <div class="flex items-center">
                                <i class="fas fa-shield-check text-white mr-2"></i>
                                <span class="text-white font-medium">Ambiente Seguro</span>
                            </div>
                        </div>
                        <div class="bg-white text-primary px-4 py-2 rounded-full font-semibold">
                            <i class="fas fa-check-circle mr-2"></i>
                            Em Produção
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card Body -->
            <div class="p-8">
                <!-- Seção de Valores -->
                <div class="mb-12">
                    <div class="flex items-center mb-6">
                        <div class="w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center mr-3">
                            <i class="fas fa-coins text-primary text-lg"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-gray-800">Valores Disponíveis</h3>
                            <p class="text-gray-600">Selecione um valor para gerar o QR Code</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <!-- R$ 0,01 -->
                        <button onclick="selectAmount(0.01)" 
                                class="amount-option p-6 rounded-2xl text-left hover:shadow-lg transition-all duration-300">
                            <div class="flex items-start justify-between mb-4">
                                <div>
                                    <div class="text-sm text-gray-500 mb-1">Valor Mínimo</div>
                                    <div class="text-3xl font-bold text-gray-900">R$ 0,01</div>
                                </div>
                                <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-arrow-right text-primary"></i>
                                </div>
                            </div>
                            <div class="text-sm text-gray-600">
                                <i class="fas fa-check-circle text-success mr-2"></i>
                                Pagamento mínimo disponível
                            </div>
                        </button>
                        
                        <!-- R$ 1,00 -->
                        <button onclick="selectAmount(1.00)" 
                                class="amount-option p-6 rounded-2xl text-left hover:shadow-lg transition-all duration-300">
                            <div class="flex items-start justify-between mb-4">
                                <div>
                                    <div class="text-sm text-gray-500 mb-1">Valor Recomendado</div>
                                    <div class="text-3xl font-bold text-gray-900">R$ 1,00</div>
                                </div>
                                <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-bolt text-success"></i>
                                </div>
                            </div>
                            <div class="text-sm text-gray-600">
                                <i class="fas fa-star text-yellow-500 mr-2"></i>
                                Valor mais utilizado
                            </div>
                        </button>
                        
                        <!-- R$ 10,00 -->
                        <button onclick="selectAmount(10.00)" 
                                class="amount-option p-6 rounded-2xl text-left hover:shadow-lg transition-all duration-300">
                            <div class="flex items-start justify-between mb-4">
                                <div>
                                    <div class="text-sm text-gray-500 mb-1">Valor Máximo</div>
                                    <div class="text-3xl font-bold text-gray-900">R$ 10,00</div>
                                </div>
                                <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-chart-line text-purple-600"></i>
                                </div>
                            </div>
                            <div class="text-sm text-gray-600">
                                <i class="fas fa-chart-bar text-purple-600 mr-2"></i>
                                Para transações maiores
                            </div>
                        </button>
                    </div>
                </div>

                <!-- Valor Personalizado -->
                <div class="mb-12">
                    <div class="flex items-center mb-6">
                        <div class="w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center mr-3">
                            <i class="fas fa-sliders text-primary text-lg"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-gray-800">Valor Personalizado</h3>
                            <p class="text-gray-600">Digite um valor específico</p>
                        </div>
                    </div>
                    
                    <div class="flex flex-col md:flex-row gap-6">
                        <div class="flex-1">
                            <div class="relative group">
                                <div class="absolute left-5 top-1/2 transform -translate-y-1/2 text-gray-600 text-lg font-medium">
                                    R$
                                </div>
                                <input type="number" 
                                       id="customAmount" 
                                       step="0.01" 
                                       min="0.01"
                                       value="0.01"
                                       placeholder="0,00" 
                                       class="w-full pl-16 pr-5 py-5 text-xl border-2 border-gray-300 rounded-2xl focus:border-primary focus:ring-3 focus:ring-primary/20 transition-all duration-300 font-medium"
                                       oninput="validateAmount(this)">
                                <div class="absolute right-5 top-1/2 transform -translate-y-1/2">
                                    <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-lg text-sm font-medium">
                                        BRL
                                    </span>
                                </div>
                            </div>
                            <div class="flex items-center mt-4">
                                <div class="flex items-center text-gray-600 mr-4">
                                    <i class="fas fa-info-circle mr-2 text-primary"></i>
                                    <span class="text-sm">Mínimo: R$ 0,01</span>
                                </div>
                                <div class="flex items-center text-gray-600">
                                    <i class="fas fa-lock mr-2 text-success"></i>
                                    <span class="text-sm">Pagamento Seguro</span>
                                </div>
                            </div>
                        </div>
                        <button onclick="generatePayment()" 
                                class="px-10 py-5 gradient-primary hover:opacity-95 text-white font-bold rounded-2xl transition-all duration-300 btn-hover flex items-center justify-center text-lg shadow-lg">
                            <i class="fas fa-qrcode mr-3 text-xl"></i>
                            Gerar QR Code PIX
                        </button>
                    </div>
                </div>

                <!-- Resultado (inicialmente escondido) -->
                <div id="resultSection" class="hidden fade-in">
                    <div class="border-t pt-10">
                        <!-- Header do Resultado -->
                        <div class="flex items-center justify-between mb-8">
                            <div class="flex items-center">
                                <div class="w-12 h-12 bg-success/10 rounded-xl flex items-center justify-center mr-4">
                                    <i class="fas fa-check-circle text-success text-2xl"></i>
                                </div>
                                <div>
                                    <h3 class="text-2xl font-bold text-gray-900">Cobrança Gerada com Sucesso!</h3>
                                    <p class="text-gray-600">QR Code disponível para pagamento</p>
                                </div>
                            </div>
                            <div class="hidden md:block">
                                <div class="flex items-center bg-gray-50 px-4 py-2 rounded-full">
                                    <div class="w-2 h-2 bg-success rounded-full mr-2"></div>
                                    <span class="text-success font-medium">Ativo</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Grid de Informações -->
                        <div class="grid md:grid-cols-2 gap-8">
                            <!-- Informações da Transação -->
                            <div class="space-y-6">
                                <!-- ID da Transação -->
                                <div class="bg-gray-50 p-5 rounded-2xl border border-gray-200">
                                    <div class="flex items-center justify-between mb-3">
                                        <div class="flex items-center">
                                            <i class="fas fa-hashtag text-gray-500 mr-2"></i>
                                            <span class="text-gray-700 font-medium">Identificador</span>
                                        </div>
                                        <button onclick="copyToClipboard('139558626783')" 
                                                class="text-primary hover:text-primary-dark transition-colors">
                                            <i class="far fa-copy"></i>
                                        </button>
                                    </div>
                                    <div id="paymentId" class="font-mono text-gray-900 font-bold text-lg">139558626783</div>
                                </div>
                                
                                <!-- Valor -->
                                <div class="bg-success/5 p-5 rounded-2xl border border-success/20">
                                    <div class="text-gray-700 font-medium mb-2">Valor da Transação</div>
                                    <div id="paymentAmount" class="text-4xl font-bold text-success">R$ 0,01</div>
                                </div>
                                
                                <!-- Status -->
                                <div class="bg-blue-50 p-5 rounded-2xl border border-blue-200">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <div class="text-gray-700 font-medium mb-2">Status</div>
                                            <div class="flex items-center">
                                                <span id="paymentStatus" class="px-4 py-2 bg-blue-100 text-blue-800 rounded-full font-semibold mr-3">
                                                    Aguardando Pagamento
                                                </span>
                                                <div class="w-3 h-3 bg-blue-500 rounded-full pulse-success"></div>
                                            </div>
                                        </div>
                                        <button onclick="checkStatusNow()" 
                                                class="px-4 py-2 bg-white border border-blue-300 text-blue-700 rounded-xl hover:bg-blue-50 transition-colors font-medium">
                                            Atualizar
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Ações Rápidas -->
                                <div class="grid grid-cols-2 gap-4">
                                    <button onclick="copyTransactionId()" 
                                            class="py-3 border-2 border-primary text-primary font-semibold rounded-xl hover:bg-primary/5 transition-all duration-300 flex items-center justify-center">
                                        <i class="far fa-copy mr-2"></i>
                                        Copiar ID
                                    </button>
                                    <button onclick="viewTransactionDetails()" 
                                            class="py-3 bg-gray-100 text-gray-700 font-semibold rounded-xl hover:bg-gray-200 transition-all duration-300 flex items-center justify-center">
                                        <i class="fas fa-file-invoice mr-2"></i>
                                        Detalhes
                                    </button>
                                </div>
                            </div>
                            
                            <!-- QR Code Preview -->
                            <div class="flex flex-col items-center justify-center">
                                <div class="relative mb-6">
                                    <div class="w-72 h-72 bg-gray-100 rounded-2xl flex items-center justify-center border-4 border-white shadow-xl">
                                        <!-- QR Code será inserido aqui -->
                                        <div class="text-center p-6">
                                            <div class="w-48 h-48 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center mx-auto mb-4">
                                                <i class="fas fa-qrcode text-white text-7xl"></i>
                                            </div>
                                            <p class="text-gray-700 font-semibold text-lg">QR Code PIX</p>
                                            <p class="text-gray-500 text-sm mt-2">Pronto para escaneamento</p>
                                        </div>
                                    </div>
                                    <div class="absolute -top-3 -right-3 bg-white rounded-full p-3 shadow-lg">
                                        <div class="w-12 h-12 bg-primary rounded-full flex items-center justify-center">
                                            <i class="fas fa-camera text-white text-xl"></i>
                                        </div>
                                    </div>
                                </div>
                                
                                <p class="text-center text-gray-600 mb-6">
                                    <i class="fas fa-mobile-alt mr-2"></i>
                                    Abra o app do seu banco e escaneie o código
                                </p>
                            </div>
                        </div>
                        
                        <!-- Ações Principais -->
                        <div class="mt-10 pt-8 border-t">
                            <div class="flex flex-col md:flex-row gap-4">
                                <button onclick="openPaymentPage()" 
                                        class="flex-1 py-4 gradient-success hover:opacity-95 text-white font-bold rounded-xl transition-all duration-300 btn-hover flex items-center justify-center text-lg">
                                    <i class="fas fa-external-link-alt mr-3"></i>
                                    Acessar Página de Pagamento
                                </button>
                                <button onclick="monitorPayment()" 
                                        class="flex-1 py-4 bg-primary hover:bg-primary-dark text-white font-bold rounded-xl transition-all duration-300 btn-hover flex items-center justify-center text-lg">
                                    <i class="fas fa-sync-alt mr-3"></i>
                                    Monitorar Pagamento
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer Oficial -->
        <footer class="mt-12 text-center fade-in" style="animation-delay: 0.3s">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="flex flex-col items-center p-4 bg-white rounded-2xl card-shadow">
                    <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center mb-3">
                        <i class="fas fa-shield-alt text-primary text-xl"></i>
                    </div>
                    <h4 class="font-semibold text-gray-800 mb-1">Segurança Garantida</h4>
                    <p class="text-gray-600 text-sm">Certificado SSL e criptografia de ponta</p>
                </div>
                
                <div class="flex flex-col items-center p-4 bg-white rounded-2xl card-shadow">
                    <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mb-3">
                        <i class="fas fa-bolt text-success text-xl"></i>
                    </div>
                    <h4 class="font-semibold text-gray-800 mb-1">Instantâneo</h4>
                    <p class="text-gray-600 text-sm">Confirmação em tempo real</p>
                </div>
                
                <div class="flex flex-col items-center p-4 bg-white rounded-2xl card-shadow">
                    <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mb-3">
                        <i class="fas fa-headset text-blue-600 text-xl"></i>
                    </div>
                    <h4 class="font-semibold text-gray-800 mb-1">Suporte 24/7</h4>
                    <p class="text-gray-600 text-sm">Atendimento especializado</p>
                </div>
                
                <div class="flex flex-col items-center p-4 bg-white rounded-2xl card-shadow">
                    <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mb-3">
                        <i class="fas fa-check-circle text-purple-600 text-xl"></i>
                    </div>
                    <h4 class="font-semibold text-gray-800 mb-1">Homologado</h4>
                    <p class="text-gray-600 text-sm">Sistema oficial aprovado</p>
                </div>
            </div>
            
            <div class="text-gray-500 text-sm">
                <p class="mb-2">Sistema PIX Oficial • Versão 2.1.4 • Ambiente de Produção</p>
                <p>© 2024 Sistema de Pagamentos PIX. Todos os direitos reservados.</p>
            </div>
        </footer>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-8 right-8 bg-gray-900 text-white px-6 py-4 rounded-xl shadow-2xl z-50 max-w-sm transform translate-y-10 opacity-0 transition-all duration-300"></div>

    <script>
        let selectedAmount = 0.01;
        let currentTransactionId = '139558626783';
        
        function selectAmount(amount) {
            selectedAmount = amount;
            
            // Remover seleção anterior
            document.querySelectorAll('.amount-option').forEach(btn => {
                btn.classList.remove('selected');
                btn.classList.remove('border-primary');
            });
            
            // Adicionar seleção atual
            event.target.classList.add('selected');
            event.target.classList.add('border-primary');
            
            // Atualizar input
            document.getElementById('customAmount').value = amount.toFixed(2);
            
            // Feedback
            showToast(`Valor definido: R$ ${amount.toFixed(2)}`, 'info');
        }
        
        function validateAmount(input) {
            let value = parseFloat(input.value);
            if (value < 0.01) {
                input.value = "0.01";
                showToast("Valor mínimo permitido: R$ 0,01", "warning");
            }
            selectedAmount = value;
        }
        
        function generatePayment() {
            const customInput = document.getElementById('customAmount');
            let value = parseFloat(customInput.value);
            
            if (!value || value < 0.01) {
                showToast("Informe um valor válido para continuar", "error");
                customInput.focus();
                return;
            }
            
            selectedAmount = value;
            
            // Mostrar loading
            showToast(`Processando cobrança de R$ ${value.toFixed(2)}...`, "info");
            
            // Simular processamento
            setTimeout(() => {
                showPaymentResult();
            }, 1000);
        }
        
        function showPaymentResult() {
            const resultSection = document.getElementById('resultSection');
            resultSection.classList.remove('hidden');
            document.getElementById('paymentAmount').textContent = `R$ ${selectedAmount.toFixed(2)}`;
            
            // Gerar novo ID para cada transação
            currentTransactionId = Date.now().toString().slice(-12);
            document.getElementById('paymentId').textContent = currentTransactionId;
            
            // Scroll suave
            resultSection.scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
            
            showToast("Cobrança PIX gerada com sucesso!", "success");
        }
        
        function checkStatusNow() {
            showToast("Verificando status da transação...", "info");
            
            // Simular verificação
            setTimeout(() => {
                const statusElement = document.getElementById('paymentStatus');
                const randomStatus = Math.random();
                
                if (randomStatus > 0.7) {
                    statusElement.textContent = "Pago com Sucesso";
                    statusElement.className = "px-4 py-2 bg-success/10 text-success rounded-full font-semibold mr-3";
                    showToast("Pagamento confirmado!", "success");
                } else if (randomStatus > 0.4) {
                    statusElement.textContent = "Processando";
                    statusElement.className = "px-4 py-2 bg-blue-100 text-blue-800 rounded-full font-semibold mr-3";
                    showToast("Pagamento em processamento", "info");
                } else {
                    statusElement.textContent = "Aguardando Pagamento";
                    statusElement.className = "px-4 py-2 bg-blue-100 text-blue-800 rounded-full font-semibold mr-3";
                    showToast("Ainda aguardando pagamento", "warning");
                }
            }, 1500);
        }
        
        function openPaymentPage() {
            showToast("Abrindo página de pagamento...", "info");
            window.location.href = "/public/checkout.html?amount=" + selectedAmount + "&id=" + currentTransactionId;
        }
        
        function monitorPayment() {
            showToast("Iniciando monitoramento...", "info");
            // Implementar monitoramento real aqui
        }
        
        function copyTransactionId() {
            copyToClipboard(currentTransactionId);
        }
        
        function viewTransactionDetails() {
            showToast("Abrindo detalhes da transação...", "info");
            // Implementar visualização de detalhes
        }
        
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text)
                .then(() => showToast("Copiado para a área de transferência!", "success"))
                .catch(() => showToast("Não foi possível copiar", "error"));
        }
        
        function showToast(message, type = "info") {
            const toast = document.getElementById('toast');
            
            // Configurar estilo baseado no tipo
            const styles = {
                success: 'bg-success',
                error: 'bg-red-600',
                warning: 'bg-yellow-500',
                info: 'bg-primary'
            };
            
            const icons = {
                success: '✓',
                error: '✗',
                warning: '⚠',
                info: 'ℹ'
            };
            
            toast.innerHTML = `
                <div class="flex items-center">
                    <div class="w-10 h-10 ${styles[type]} rounded-lg flex items-center justify-center mr-4 flex-shrink-0">
                        <span class="text-white font-bold text-lg">${icons[type]}</span>
                    </div>
                    <div class="flex-1">
                        <div class="font-medium">${message}</div>
                    </div>
                </div>
            `;
            
            // Mostrar toast
            toast.classList.remove('opacity-0', 'translate-y-10');
            toast.classList.add('opacity-100', 'translate-y-0');
            
            // Esconder após 4 segundos
            setTimeout(() => {
                toast.classList.remove('opacity-100', 'translate-y-0');
                toast.classList.add('opacity-0', 'translate-y-10');
            }, 4000);
        }
        
        // Inicialização
        document.addEventListener('DOMContentLoaded', () => {
            // Selecionar valor padrão
            selectAmount(0.01);
            
            // Animar elementos
            const elements = document.querySelectorAll('.fade-in');
            elements.forEach((el, index) => {
                el.style.animationDelay = `${index * 0.1}s`;
            });
            
            // Carregar histórico se existir
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('success')) {
                showPaymentResult();
            }
        });
    </script>
</body>
</html>